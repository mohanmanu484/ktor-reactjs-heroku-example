group 'com.sprintreview'

allprojects {
  buildscript {
    ext.tomcat_plugin_version = '2.4.2'
    ext.tomcat_version = '9.0.4'
    ext.kotlin_version = '1.2.51'
    ext.ktor_version = '0.9.3'
    ext.klaxon_version = '3.0.1'
    ext.moowork_version = '1.2.0'
    ext.runner_version = '8.5.30.0'
    ext.logback_version = '1.2.1'
    ext.kmongo_version = '3.7.0'
    ext.assertk_version = '0.10'
    ext.testcontainers_version = '1.8.0'
    ext.kgraphql_version = '0.2.6'
    ext.es_version = '6.3.1'
    repositories {
      jcenter()
      mavenCentral()
      maven { url "https://plugins.gradle.org/m2/" }
    }
  }
  repositories {
    jcenter()
    maven { url "https://dl.bintray.com/kotlin/kotlinx" }
    maven { url "https://dl.bintray.com/kotlin/ktor" }
    maven { url  "https://dl.bintray.com/pgutkowski/Maven" }
  }
}

subprojects {
  version = '0.1-SNAPSHOT'
}

task clean {
  dependsOn ':sprint-review-client:clean', ':sprint-review-server:clean'
}

task stage {
  dependsOn clean, ':sprint-review-client:yarn_install', ':sprint-review-client:generate', ':sprint-review-server:stage'
}
